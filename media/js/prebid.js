!(function(b){function a(e){if(c[e]){return c[e].exports}var d=c[e]={exports:{},id:e,loaded:!1};return b[e].call(d.exports,d,d.exports,a),d.loaded=!0,d.exports}var c={};return a.m=b,a.c=c,a.p="",a(0)})([(function(al,Q,ad){function X(b,a,c){return a in b?Object.defineProperty(b,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[a]=c,b}function ah(){for(var b=0;b<ai.que.length;b++){if(N(ai.que[b].called)===U){try{ai.que[b].call(),ai.que[b].called=!0}catch(a){K.logError("Error processing command :","prebid.js",a)}}}}function ac(b){var a=ai._bidsRequested.map((function(c){return c.bids.map((function(d){return d.placementCode}))})).reduce(af.flatten).filter(af.uniques);return K.contains(a,b)?!0:(K.logError('The "'+b+'" placement is not defined.'),void 0)}function ap(){ai._bidsRequested=[],ai._bidsReceived=ai._bidsReceived.filter((function(a){return !ai._adUnitCodes.includes(a.adUnitCode)}))}function V(b,a,c){b.defaultView&&b.defaultView.frameElement&&(b.defaultView.frameElement.width=a,b.defaultView.frameElement.height=c)}var am=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var d=arguments[a];for(var b in d){Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b])}}return c},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},an=ad(1),af=ad(2),ak=ad(4);ad(24);var ab=ad(11),aj=ad(14),ae=ad(72),ao=ad(73),M=ad(16),ai=an.getGlobal(),H=ad(3),K=ad(2),aq=ad(13),L=ad(5),z=ad(12),P=ad(8),k=ad(74),J=ad(75),aa="function",U="undefined",F="object",W=H.EVENTS.BID_WON,Z=H.EVENTS.SET_TARGETING,G=!1,ag=[],Y={bidWon:ac};ai._bidsRequested=[],ai._bidsReceived=[],ai._adUnitCodes=[],ai._winningBids=[],ai._adsReceived=[],ai._sendAllBids=!1,ai.bidderSettings=ai.bidderSettings||{},ai.bidderTimeout=ai.bidderTimeout||3000,ai.cbTimeout=ai.cbTimeout||200,ai.timeoutBuffer=200,ai.logging=ai.logging||!1,ai.publisherDomain=ai.publisherDomain||window.location.origin,ai.libLoaded=!0,ai.version="v0.23.0",K.logInfo("Prebid.js v0.23.0 loaded"),ai.adUnits=ai.adUnits||[],ai.cookieSyncDelay=ai.cookieSyncDelay||100,ai.que.push=function(b){if(("undefined"==typeof b?"undefined":N(b))===aa){try{b.call()}catch(a){K.logError("Error processing command :"+a.message)}}else{K.logError("Commands written into pbjs.que.push must wrapped in a function")}},ai.getAdserverTargetingForAdUnitCodeStr=function(b){if(K.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),b){var a=ai.getAdserverTargetingForAdUnitCode(b);return K.transformAdServerTargetingObj(a)}K.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},ai.getAdserverTargetingForAdUnitCode=function(a){return ai.getAdserverTargeting(a)[a]},ai.getAdserverTargeting=function(a){return K.logInfo("Invoking pbjs.getAdserverTargeting",arguments),J.getAllTargeting(a).map((function(b){return X({},Object.keys(b)[0],b[Object.keys(b)[0]].map((function(c){return X({},Object.keys(c)[0],c[Object.keys(c)[0]].join(", "))})).reduce((function(d,c){return am(c,d)}),{}))})).reduce((function(c,b){var d=Object.keys(b)[0];return c[d]=am({},c[d],b[d]),c}),{})},ai.getBidResponses=function(){K.logInfo("Invoking pbjs.getBidResponses",arguments);var b=ai._bidsReceived.filter(af.adUnitsFilter.bind(this,ai._adUnitCodes)),a=b&&b.length&&b[b.length-1].requestId;return b.map((function(c){return c.adUnitCode})).filter(af.uniques).map((function(c){return b.filter((function(d){return d.requestId===a&&d.adUnitCode===c}))})).filter((function(c){return c&&c[0]&&c[0].adUnitCode})).map((function(c){return X({},c[0].adUnitCode,{bids:c})})).reduce((function(d,c){return am(d,c)}),{})},ai.getBidResponsesForAdUnitCode=function(b){var a=ai._bidsReceived.filter((function(c){return c.adUnitCode===b}));return{bids:a}},ai.setTargetingForGPTAsync=function(){return K.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),af.isGptPubadsDefined()?(J.resetPresetTargeting(),J.setTargeting(J.getAllTargeting()),P.emit(Z),void 0):(K.logError("window.googletag is not defined on the page"),void 0)},ai.setTargetingForAst=function(){return K.logInfo("Invoking pbjs.setTargetingForAn",arguments),J.isApntagDefined()?(J.setTargetingForAst(),P.emit(Z),void 0):(K.logError("window.apntag is not defined on the page"),void 0)},ai.allBidsAvailable=function(){return K.logInfo("Invoking pbjs.allBidsAvailable",arguments),aq.bidsBackAll()},ai.renderAd=function(j,s){if(K.logInfo("Invoking pbjs.renderAd",arguments),K.logMessage("Calling renderAd with adId :"+s),j&&s){try{var g=ai._bidsReceived.find((function(a){return a.adId===s}));if(g){g.ad=K.replaceAuctionPrice(g.ad,g.cpm),g.url=K.replaceAuctionPrice(g.url,g.cpm),ai._winningBids.push(g),P.emit(W,g);var b=g.height,h=g.width,f=g.ad,p=g.mediaType,l=g.adUrl,q=g.renderer;q&&q.url?q.render(g):j===document&&!K.inIframe()||"video"===p?K.logError("Error trying to write ad. Ad render call ad id "+s+" was prevented from writing to the main document."):f?(j.write(f),j.close(),V(j,h,b)):l?(j.write('<IFRAME SRC="'+l+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+h+'" HEIGHT="'+b+'"></IFRAME>'),j.close(),V(j,h,b)):K.logError("Error trying to write ad. No ad for bid response id: "+s)}else{K.logError("Error trying to write ad. Cannot find ad by given id : "+s)}}catch(m){K.logError("Error trying to write ad Id :"+s+" to the page:"+m.message)}}else{K.logError("Error trying to write ad Id :"+s+" to the page. Missing document or adId")}},ai.removeAdUnit=function(b){if(K.logInfo("Invoking pbjs.removeAdUnit",arguments),b){for(var a=0;a<ai.adUnits.length;a++){ai.adUnits[a].code===b&&ai.adUnits.splice(a,1)}}},ai.clearAuction=function(){G=!1,ao.syncCookies(ai.cookieSyncDelay),K.logMessage("Prebid auction cleared"),ag.length&&ag.shift()()},ai.requestBids=function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=j.bidsBackHandler,f=j.timeout,a=j.adUnits,h=j.adUnitCodes;P.emit("requestBids");var b=ai.cbTimeout=f||ai.bidderTimeout;a=a||ai.adUnits,K.logInfo("Invoking pbjs.requestBids",arguments),h&&h.length?a=a.filter((function(c){return h.includes(c.code)})):h=a&&a.map((function(c){return c.code}));var u=a.filter(ak.videoAdUnit).filter(ak.hasNonVideoBidder);if(u.forEach((function(d){K.logError("adUnit "+d.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var c=0;c<a.length;c++){a[c].code===d.code&&a.splice(c,1)}})),G){return ag.push((function(){ai.requestBids({bidsBackHandler:q,timeout:b,adUnits:a,adUnitCodes:h})})),void 0}if(G=!0,ai._adUnitCodes=h,aq.externalCallbackReset(),ap(),!a||0===a.length){return K.logMessage("No adUnits configured. No bids requested."),("undefined"==typeof q?"undefined":N(q))===aa&&aq.addOneTimeCallback(q,!1),aq.executeCallback(),void 0}var m=!0,p=aq.executeCallback.bind(aq,m),g=setTimeout(p,b);("undefined"==typeof q?"undefined":N(q))===aa&&aq.addOneTimeCallback(q,g),L.callBids({adUnits:a,adUnitCodes:h,cbTimeout:b}),0===ai._bidsRequested.length&&aq.executeCallback()},ai.addAdUnits=function(a){K.logInfo("Invoking pbjs.addAdUnits",arguments),K.isArray(a)?(a.forEach((function(b){return b.transactionId=K.generateUUID()})),ai.adUnits.push.apply(ai.adUnits,a)):("undefined"==typeof a?"undefined":N(a))===F&&(a.transactionId=K.generateUUID(),ai.adUnits.push(a))},ai.onEvent=function(b,a,c){return K.logInfo("Invoking pbjs.onEvent",arguments),K.isFn(a)?c&&!Y[b].call(null,c)?(K.logError('The id provided is not valid for event "'+b+'" and no handler was set.'),void 0):(P.on(b,a,c),void 0):(K.logError('The event handler provided is not a function and was not set on event "'+b+'".'),void 0)},ai.offEvent=function(b,a,c){K.logInfo("Invoking pbjs.offEvent",arguments),(!c||Y[b].call(null,c))&&P.off(b,a,c)},ai.addCallback=function(b,a){K.logInfo("Invoking pbjs.addCallback",arguments);var c=null;return b&&a&&("undefined"==typeof a?"undefined":N(a))===aa?(c=K.getUniqueIdentifierStr,aq.addCallback(c,a,b),c):(K.logError("error registering callback. Check method signature"),c)},ai.removeCallback=function(){return null},ai.registerBidAdapter=function(b,a){K.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{L.registerBidAdapter(b(),a)}catch(c){K.logError("Error registering bidder adapter : "+c.message)}},ai.registerAnalyticsAdapter=function(b){K.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{L.registerAnalyticsAdapter(b)}catch(a){K.logError("Error registering analytics adapter : "+a.message)}},ai.bidsAvailableForAdapter=function(a){K.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),ai._bidsRequested.find((function(b){return b.bidderCode===a})).bids.map((function(b){return am(b,z.createBid(1),{bidderCode:a,adUnitCode:b.placementCode})})).map((function(b){return ai._bidsReceived.push(b)}))},ai.createBid=function(a){return K.logInfo("Invoking pbjs.createBid",arguments),z.createBid(a)},ai.addBidResponse=function(b,a){K.logInfo("Invoking pbjs.addBidResponse",arguments),aq.addBidResponse(b,a)},ai.loadScript=function(b,a,c){K.logInfo("Invoking pbjs.loadScript",arguments),M.loadScript(b,a,c)},ai.enableAnalytics=function(a){a&&!K.isEmpty(a)?(K.logInfo("Invoking pbjs.enableAnalytics for: ",a),L.enableAnalytics(a)):K.logError("pbjs.enableAnalytics should be called with option {}")},ai.aliasBidder=function(b,a){K.logInfo("Invoking pbjs.aliasBidder",arguments),b&&a?L.aliasBidAdapter(b,a):K.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},ai.setPriceGranularity=function(a){if(K.logInfo("Invoking pbjs.setPriceGranularity",arguments),!a){return K.logError("Prebid Error: no value passed to `setPriceGranularity()`"),void 0}if("string"==typeof a){aq.setPriceGranularity(a)}else{if("object"===("undefined"==typeof a?"undefined":N(a))){if(!aj.isValidePriceConfig(a)){return K.logError("Invalid custom price value passed to `setPriceGranularity()`"),void 0}aq.setCustomPriceBucket(a),aq.setPriceGranularity(H.GRANULARITY_OPTIONS.CUSTOM),K.logMessage("Using custom price granularity")}}},ai.enableSendAllBids=function(){ai._sendAllBids=!0},ai.getAllWinningBids=function(){return ai._winningBids},ai.buildMasterVideoTagFromAdserverTag=function(d,b){K.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var f=ab.parse(d);if(0===ai._bidsReceived.length){return d}var c="";if("dfp"!==b.adserver.toLowerCase()){return K.logError("Only DFP adserver is supported"),void 0}var a=k.dfpAdserver(b,f);return a.verifyAdserverTag()||K.logError("Invalid adserverTag, required google params are missing in query string"),a.appendQueryParams(),c=ab.format(a.urlComponents)},ai.setBidderSequence=function(a){a===H.ORDER.RANDOM&&L.setBidderSequence(H.ORDER.RANDOM)},ai.getHighestCpmBids=function(a){return J.getWinningBids(a)},ai.setS2SConfig=function(b){if(!K.contains(Object.keys(b),"accountId")){return K.logError("accountId missing in Server to Server config"),void 0}if(!K.contains(Object.keys(b),"bidders")){return K.logError("bidders missing in Server to Server config"),void 0}var a=am({enabled:!1,endpoint:H.S2S.DEFAULT_ENDPOINT,timeout:1000,maxBids:1,adapter:"prebidServer"},b);L.setS2SConfig(a)},ai.que.push((function(){return ae.listenMessagesFromCreative()})),ah()}),(function(b,a){function c(){return window.pbjs}Object.defineProperty(a,"__esModule",{value:!0}),a.getGlobal=c,window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}),(function(aw,ag,am){function ai(){return aq()+Math.random().toString(16).substr(2)}function ar(){return window.console&&window.console.log}function al(b,a,c){return c.indexOf(b)===a}function aA(b,a){return b.concat(a)}function ah(a){return pbjs._bidsRequested.map((function(b){return b.bids.find((function(c){return c.bidId===a}))})).find((function(b){return b}))}function ax(a){return Object.keys(a)}function af(b,a){return b[a]}function ay(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return a.map((function(b){return b.bids.map((function(c){return c.bidder})).reduce(aA,[])})).reduce(aA).filter(al)}function ao(){return window.googletag&&ag.isFn(window.googletag.pubads)&&ag.isFn(window.googletag.pubads().getSlots)?!0:void 0}function av(b,a){return b.cpm===a.cpm?b.timeToRespond>a.timeToRespond?a:b:b.cpm<a.cpm?a:b}function ak(c){for(var a=c.length;a>0;){var d=Math.floor(Math.random()*a);a--;var b=c[a];c[a]=c[d],c[d]=b}return c}function au(b,a){return b.includes(a&&a.placementCode||a&&a.adUnitCode)}function an(a){return a.defaultView&&a.defaultView.frameElement&&"srcdoc" in a.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)}function az(a){return JSON.parse(JSON.stringify(a))}function ae(){try{return window.self!==window.top}catch(a){return !0}}function at(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ab(b,a){return b?b.replace(/\$\{AUCTION_PRICE\}/g,a):void 0}Object.defineProperty(ag,"__esModule",{value:!0});var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};ag.uniques=al,ag.flatten=aA,ag.getBidRequest=ah,ag.getKeys=ax,ag.getValue=af,ag.getBidderCodes=ay,ag.isGptPubadsDefined=ao,ag.getHighestCpm=av,ag.shuffle=ak,ag.adUnitsFilter=au,ag.isSrcdocSupported=an,ag.cloneJson=az,ag.inIframe=ae,ag.isSafariBrowser=at,ag.replaceAuctionPrice=ab;var aB=am(3),ad="object",G="string",W="number",F=!1,ac="Array",aa="String",X="Function",H="Number",Y=Object.prototype.toString,Z=null;try{Z=console.info.bind(window.console)}catch(K){}ag.replaceTokenInString=function(b,a,c){return this._each(a,(function(e,f){e=void 0===e?"":e;var d=c+f.toUpperCase()+c,g=new RegExp(d,"g");b=b.replace(g,e)})),b};var aq=(function(){var a=0;return function(){return a++,a}})();ag.getUniqueIdentifierStr=ai,ag.generateUUID=function Q(a){return a?(a^16*Math.random()>>a/4).toString(16):([10000000]+-1000+-4000+-8000+-100000000000).replace(/[018]/g,Q)},ag.getBidIdParameter=function(b,a){return a&&a[b]?a[b]:""},ag.tryAppendQueryString=function(b,a,c){return c?b+=a+"="+encodeURIComponent(c)+"&":b},ag.parseQueryStringParameters=function(b){var a="";for(var c in b){b.hasOwnProperty(c)&&(a+=c+"="+encodeURIComponent(b[c])+"&")}return a},ag.transformAdServerTargetingObj=function(a){return a&&Object.getOwnPropertyNames(a).length>0?ax(a).map((function(b){return b+"="+encodeURIComponent(af(a,b))})).join("&"):""},ag.parseSizesInput=function(g){var d=[];if(("undefined"==typeof g?"undefined":V(g))===G){var j=g.split(","),f=/^(\d)+x(\d)+$/i;if(j){for(var c in j){J(j,c)&&j[c].match(f)&&d.push(j[c])}}}else{if(("undefined"==typeof g?"undefined":V(g))===ad){var h=g.length;if(h>0){if(2===h&&V(g[0])===W&&V(g[1])===W){d.push(this.parseGPTSingleSizeArray(g))}else{for(var b=0;h>b;b++){d.push(this.parseGPTSingleSizeArray(g[b]))}}}}}return d},ag.parseGPTSingleSizeArray=function(a){return !this.isArray(a)||2!==a.length||isNaN(a[0])||isNaN(a[1])?void 0:a[0]+"x"+a[1]},ag.getTopWindowLocation=function(){var b=void 0;try{b=window.top.location}catch(a){b=window.location}return b},ag.getTopWindowUrl=function(){var b=void 0;try{b=this.getTopWindowLocation().href}catch(a){b=""}return b},ag.logWarn=function(a){z()&&console.warn&&console.warn("WARNING: "+a)},ag.logInfo=function(b,a){z()&&ar()&&Z&&(a&&0!==a.length||(a=""),Z("INFO: "+b+(""===a?"":" : params : "),a))},ag.logMessage=function(a){z()&&ar()&&console.log("MESSAGE: "+a)},ag.hasConsoleLogger=ar;var aj=(function(a){return a?window.console.error?"error":"log":""})(ar()),z=function(){return pbjs.logging===!1&&F===!1&&(pbjs.logging="TRUE"===L(aB.DEBUG_MODE).toUpperCase(),F=!0),!!pbjs.logging};ag.debugTurnedOn=z,ag.logError=function(c,a,d){var b=a||"ERROR";z()&&ar()&&console[aj](console,b+": "+c,d||"")},ag.createInvisibleIframe=function(){var a=document.createElement("iframe");return a.id=ai(),a.height=0,a.width=0,a.border="0px",a.hspace="0",a.vspace="0",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.scrolling="no",a.frameBorder="0",a.src="about:blank",a.style.display="none",a};var L=function(c){var a="[\\?&]"+c+"=([^&#]*)",d=new RegExp(a),b=d.exec(window.location.search);return null===b?"":decodeURIComponent(b[1].replace(/\+/g," "))};ag.hasValidBidRequest=function(d,b,g){function c(h,i){i===b[f]&&(a=!0)}for(var a=!1,f=0;f<b.length;f++){if(a=!1,this._each(d,c),!a){return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+b,g),!1}}return !0},ag.addEventHandler=function(b,a,c){b.addEventListener?b.addEventListener(a,c,!0):b.attachEvent&&b.attachEvent("on"+a,c)},ag.isA=function(b,a){return Y.call(b)==="[object "+a+"]"},ag.isFn=function(a){return this.isA(a,X)},ag.isStr=function(a){return this.isA(a,aa)},ag.isArray=function(a){return this.isA(a,ac)},ag.isNumber=function(a){return this.isA(a,H)},ag.isEmpty=function(b){if(!b){return !0}if(this.isArray(b)||this.isStr(b)){return !(b.length>0)}for(var a in b){if(hasOwnProperty.call(b,a)){return !1}}return !0},ag.isEmptyStr=function(a){return this.isStr(a)&&(!a||0===a.length)},ag._each=function(c,a){if(!this.isEmpty(c)){if(this.isFn(c.forEach)){return c.forEach(a,this)}var d=0,b=c.length;if(b>0){for(;b>d;d++){a(c[d],d,c)}}else{for(d in c){hasOwnProperty.call(c,d)&&a.call(this,c[d],d)}}}},ag.contains=function(b,a){if(this.isEmpty(b)){return !1}if(this.isFn(b.indexOf)){return -1!==b.indexOf(a)}for(var c=b.length;c--;){if(b[c]===a){return !0}}return !1},ag.indexOf=(function(){return Array.prototype.indexOf?Array.prototype.indexOf:void 0})(),ag._map=function(b,a){if(this.isEmpty(b)){return[]}if(this.isFn(b.map)){return b.map(a)}var c=[];return this._each(b,(function(e,d){c.push(a(e,d,b))})),c};var J=function(b,a){return b.hasOwnProperty?b.hasOwnProperty(a):"undefined"!=typeof b[a]&&b.constructor.prototype[a]!==b[a]},ap=function(b){var a=document.getElementsByTagName("head");try{a=a.length?a:document.getElementsByTagName("body"),a.length&&(a=a[0],a.insertBefore(b,a.firstChild))}catch(c){}};ag.insertPixel=function(b){var a=new Image;a.id=this.getUniqueIdentifierStr(),a.src=b,a.height=0,a.width=0,a.style.display="none",a.onload=function(){try{this.parentNode.removeChild(this)}catch(c){}},ap(a)},ag.insertCookieSyncIframe=function(c){var a=this.createTrackPixelIframeHtml(c),d=document.createElement("div");d.innerHTML=a;var b=d.firstChild;ap(b)},ag.createTrackPixelHtml=function(b){if(!b){return""}var a=encodeURI(b),c='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return c+='<img src="'+a+'"></div>'},ag.createTrackPixelIframeHtml=function(a){return a?'<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no" src="'+encodeURI(a)+'"></iframe>':""},ag.getIframeDocument=function(b){if(b){var a=void 0;try{a=b.contentWindow?b.contentWindow.document:b.contentDocument.document?b.contentDocument.document:b.contentDocument}catch(c){this.logError("Cannot get iframe document",c)}return a}},ag.getValueString=function(b,a,c){return void 0===a||null===a?c:this.isStr(a)?a:this.isNumber(a)?a.toString():(this.logWarn("Unsuported type for param: "+b+" required type: String"),void 0)}}),(function(a){a.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.23.0",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},ORDER:{RANDOM:"random"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"],S2S:{DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/auction"}}}),(function(d,b,f){Object.defineProperty(b,"__esModule",{value:!0}),b.hasNonVideoBidder=b.videoAdUnit=void 0;var c=f(5),a=(b.videoAdUnit=function(g){return"video"===g.mediaType},function(g){return !c.videoAdapters.includes(g.bidder)});b.hasNonVideoBidder=function(g){return g.bids.filter(a).length}}),(function(Q,C,J){function F(d){var b=d.bidderCode,f=d.requestId,c=d.bidderRequestId,a=d.adUnits;return a.map((function(g){return g.bids.filter((function(h){return h.bidder===b})).map((function(h){var e=g.sizes;if(g.sizeMapping){var l=R.mapSizes(g);if(""===l){return""}e=l}return V({},h,{placementCode:g.code,mediaType:g.mediaType,transactionId:g.transactionId,sizes:e,bidId:h.bid_id||T.getUniqueIdentifierStr(),bidderRequestId:c,requestId:f})}))})).reduce(D.flatten,[]).filter((function(g){return""!==g}))}function M(b){var a=[],c=T.parseSizesInput(b.sizes);return c.forEach((function(f){var g=f.split("x"),d={w:parseInt(g[0]),h:parseInt(g[1])};a.push(d)})),a}var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},V=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var d=arguments[a];for(var b in d){Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b])}}return c},D=J(2),R=J(6),A=J(7),T=J(2),L=J(3),P=J(8),G={};C.bidderRegistry=G;var O={},K={},U=null;C.callBids=function(i){var S=i.adUnits,c=i.cbTimeout,b=T.generateUUID(),r=Date.now(),l={timestamp:r,requestId:b};P.emit(L.EVENTS.AUCTION_INIT,l);var E=D.getBidderCodes(S);if(U===L.ORDER.RANDOM&&(E=D.shuffle(E)),O.enabled){var f=O.bidders;E=E.filter((function(a){return !f.includes(a)}));var w=T.cloneJson(S);w.forEach((function(a){a.sizes=M(a),a.bids=a.bids.filter((function(d){return f.includes(d.bidder)})).map((function(d){return d.bid_id=T.getUniqueIdentifierStr(),d}))}));var g=T.generateUUID();f.forEach((function(d){var a=T.getUniqueIdentifierStr(),h={bidderCode:d,requestId:b,bidderRequestId:a,tid:g,bids:F({bidderCode:d,requestId:b,bidderRequestId:a,adUnits:w}),start:(new Date).getTime(),auctionStart:r,timeout:O.timeout};pbjs._bidsRequested.push(h)}));var p={tid:g,ad_units:w},s=G[O.adapter];T.logMessage("CALLING S2S HEADER BIDDERS ==== "+f.join(",")),s.setConfig(O),s.callBids(p)}E.forEach((function(m){var a=G[m];if(a){var h=T.getUniqueIdentifierStr(),n={bidderCode:m,requestId:b,bidderRequestId:h,bids:F({bidderCode:m,requestId:b,bidderRequestId:h,adUnits:S}),start:(new Date).getTime(),auctionStart:r,timeout:c};n.bids&&0!==n.bids.length&&(T.logMessage("CALLING BIDDER ======= "+m),pbjs._bidsRequested.push(n),P.emit(L.EVENTS.BID_REQUESTED,n),a.callBids(n))}else{T.logError("Adapter trying to be called which does not exist: "+m+" adaptermanager.callBids")}}))},C.registerBidAdapter=function(b,a){b&&a?H(b.callBids)===L.objectType_function?G[a]=b:T.logError("Bidder adaptor error for bidder code: "+a+"bidder must implement a callBids() function"):T.logError("bidAdaptor or bidderCode not specified")},C.aliasBidAdapter=function(g,d){var h=G[d];if(("undefined"==typeof h?"undefined":H(h))===L.objectType_undefined){var f=G[g];if(("undefined"==typeof f?"undefined":H(f))===L.objectType_undefined){T.logError('bidderCode "'+g+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter")}else{try{var c=null;f instanceof A.BaseAdapter?T.logError(g+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter"):(c=f.createNew(),c.setBidderCode(d),this.registerBidAdapter(c,d))}catch(b){T.logError(g+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}}else{T.logMessage('alias name "'+d+'" has been already specified.')}},C.registerAnalyticsAdapter=function(b){var a=b.adapter,c=b.code;a&&c?H(a.enableAnalytics)===L.objectType_function?(a.code=c,K[c]=a):T.logError('Prebid Error: Analytics adaptor error for analytics "'+c+'"\n        analytics adapter must implement an enableAnalytics() function'):T.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},C.enableAnalytics=function(a){T.isArray(a)||(a=[a]),T._each(a,(function(c){var b=K[c.provider];b?b.enableAnalytics(c):T.logError("Prebid Error: no analytics adapter found in registry for\n        "+c.provider+".")}))},C.setBidderSequence=function(a){U=a},C.setS2SConfig=function(a){O=a};var z=J(9);C.registerBidAdapter(new z,"aol");var N=J(15);C.registerBidAdapter(new N,"districtmDMX");var k=J(17);C.registerBidAdapter(new k,"pulsepoint");var q=J(18);C.registerBidAdapter(new q,"sovrn");var W=J(19);C.registerBidAdapter(new W,"criteo");var x=J(20);C.registerBidAdapter(new x,"conversant");var j=J(21);C.registerBidAdapter(new j,"indexExchange");var B=J(22);C.registerBidAdapter(new B,"appnexus"),C.videoAdapters=[]}),(function(j,q,g){function b(c){if(c&&c.__esModule){return c}var a={};if(null!=c){for(var d in c){Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}}return a["default"]=c,a}function h(o){if(!f(o.sizeMapping)){return o.sizes}var c=m();if(!c){var s=o.sizeMapping.reduce((function(n,i){return n.minWidth<i.minWidth?i:n}));return s.sizes?s.sizes:o.sizes}var d="",a=o.sizeMapping.find((function(i){return c>i.minWidth}));return a&&a.sizes?(d=a.sizes,p.logMessage("AdUnit : "+o.code+" resized based on device width to : "+d)):p.logMessage("AdUnit : "+o.code+" not mapped to any sizes for device width. This request will be suppressed."),d}function f(a){return p.isArray(a)&&a.length>0?!0:(p.logInfo("No size mapping defined"),!1)}function m(c){var a=c||l||window,d=a.document;return a.innerWidth?a.innerWidth:d.body.clientWidth?d.body.clientWidth:d.documentElement.clientWidth?d.documentElement.clientWidth:0}function v(a){l=a}Object.defineProperty(q,"__esModule",{value:!0}),q.setWindow=q.getScreenWidth=q.mapSizes=void 0;var k=g(2),p=b(k),l=void 0;q.mapSizes=h,q.getScreenWidth=m,q.setWindow=v}),(function(c,a){function d(g,f){if(!(g instanceof f)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(a,"__esModule",{value:!0});var b=(function(){function f(i,g){for(var j=0;j<g.length;j++){var h=g[j];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(e,h,g){return h&&f(e.prototype,h),g&&f(e,g),e}})();a.BaseAdapter=(function(){function f(e){d(this,f),this.code=e}return b(f,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(g){this.code=g}},{key:"callBids",value:function(){throw"adapter implementation must override callBids method"}}]),f})()}),(function(j,q,g){var b=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var c in i){Object.prototype.hasOwnProperty.call(i,c)&&(d[c]=i[c])}}return d},h=g(2),f=g(3),m=Array.prototype.slice,v=Array.prototype.push,k=h._map(f.EVENTS,(function(a){return a})),p=f.EVENT_ID_PATHS,l=[];j.exports=(function(){function c(y,u){h.logMessage("Emitting event for: "+y);var w=u[0]||{},A=p[y],s=w[A],z=i[y]||{que:[]},n=h._map(z,(function(r,o){return o})),x=[];l.push({eventType:y,args:w,id:s}),s&&h.contains(n,s)&&v.apply(x,z[s].que),v.apply(x,z.que),h._each(x,(function(o){if(o){try{o.apply(null,u)}catch(r){h.logError("Error executing handler:","events.js",r)}}}))}function a(n){return h.contains(k,n)}var i={},d={};return d.on=function(t,s,u){if(a(t)){var n=i[t]||{que:[]};u?(n[u]=n[u]||{que:[]},n[u].que.push(s)):n.que.push(s),i[t]=n}else{h.logError("Wrong event name : "+t+" Valid event names :"+k)}},d.emit=function(e){var o=m.call(arguments,1);c(e,o)},d.off=function(u,n,s){var w=i[u];h.isEmpty(w)||h.isEmpty(w.que)&&h.isEmpty(w[s])||s&&(h.isEmpty(w[s])||h.isEmpty(w[s].que))||(s?h._each(w[s].que,(function(o){var r=w[s].que;o===n&&r.splice(h.indexOf.call(r,o),1)})):h._each(w.que,(function(o){var r=w.que;o===n&&r.splice(h.indexOf.call(r,o),1)})),i[u]=w)},d.get=function(){return i},d.getEvents=function(){var n=[];return h._each(l,(function(e){var o=b({},e);n.push(o)})),n},d})()}),(function(p,y,h){function b(c,a){return Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(a)}}))}var k=b(["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""],["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""]),g=b(["","://","/bidRequest?"],["","://","/bidRequest?"]),w=b(["dcn=","&pos=","&cmd=bid",""],["dcn=","&pos=","&cmd=bid",""]),z=h(2),q=h(10).ajax,x=h(12),v=h(13),j=h(3),m=function(){function O(n){var f=B(n);J(f)}function B(E){var A=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,R=/\w*(?=\s)/,D=/src=("|')(.*?)\1/,f=[];if(E){var I=E.match(A);I&&I.forEach((function(r){var n=r.match(R),S=r.match(D);n&&S&&f.push({tagName:n[0].toUpperCase(),src:S[2]})}))}return f}function J(f){f.forEach((function(n){switch(n.tagName){case G.img:return F(n);case G.iframe:return N(n)}}))}function F(n){var f=new Image;f.src=n.src}function N(n){var f=document.createElement("iframe");f.width=1,f.height=1,f.style.display="none",f.src=n.src,"interactive"===document.readyState||"complete"===document.readyState?document.body.appendChild(f):C((function(){document.body.appendChild(f)}))}function H(D){for(var f=arguments.length,E=Array(f>1?f-1:0),A=1;f>A;A++){E[A-1]=arguments[A]}return function(){for(var I=arguments.length,R=Array(I),n=0;I>n;n++){R[n]=arguments[n]}var S=R[R.length-1]||{},e=[D[0]];return E.forEach((function(T,U){var r=Number.isInteger(T)?R[T]:S[T];e.push(r,D[U+1])})),e.join("")}}function M(E){var A=E.params,I=A.server,D=A.region||"us",f=void 0;return a.hasOwnProperty(D)||(z.logWarn("Unknown region '"+D+"' for AOL bidder."),D="us"),f=I?I:a[D],A.region=D,Q({protocol:"https:"===document.location.protocol?"https":"http",host:f,network:A.network,placement:parseInt(A.placement),pageid:A.pageId||0,sizeid:A.sizeId||0,alias:A.alias||z.getUniqueIdentifierStr(),bidfloor:"undefined"!=typeof A.bidFloor?";bidfloor="+A.bidFloor.toString():"",misc:(new Date).getTime()})}function K(E){var A=E.params,R=A.dcn,D=A.pos,f=o({protocol:"https:"===document.location.protocol?"https":"http",host:E.params.host||i});if(R&&D){var I="";z._each(E.params.ext,(function(r,n){I+="&"+n+"="+encodeURIComponent(r)})),f+=c({dcn:R,pos:D,ext:I})}return f}function P(r){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=x.createBid(2,r);A.bidderCode=u,A.reason=f.nbr,A.raw=f,v.addBidResponse(r.placementCode,A)}function s(A,R){var D=void 0;try{D=R.seatbid[0].bid[0]}catch(f){return P(A,R),void 0}var I=void 0;if(D.ext&&D.ext.encp){I=D.ext.encp}else{if(I=D.price,null===I||isNaN(I)){return z.logError("Invalid price in bid response",u,A),P(A,R),void 0}}var e=D.adm;R.ext&&R.ext.pixels&&(A.params.userSyncOn===j.EVENTS.BID_RESPONSE?O(R.ext.pixels):e+=R.ext.pixels);var E=x.createBid(1,A);E.bidderCode=u,E.ad=e,E.cpm=I,E.width=D.w,E.height=D.h,E.creativeId=D.crid,E.pubapiId=R.id,E.currencyCode=R.cur,D.dealid&&(E.dealId=D.dealid),v.addBidResponse(A.placementCode,E)}function L(n){if(n.params.id&&n.params.imp&&n.params.imp[0]){var f=n.params.imp[0];return f.id&&f.tagid&&(f.banner&&f.banner.w&&f.banner.h||f.video&&f.video.mimes&&f.video.minduration&&f.video.maxduration)}}function d(f){z._each(f.bids,(function(I){var D=void 0,R=null,E={withCredentials:!0},A=L(I);I.params.placement&&I.params.network?D=M(I):(I.params.dcn&&I.params.pos||A)&&(D=K(I),A&&(R=I.params,E.customHeaders={"x-openrtb-version":"2.2"},E.method="POST",E.contentType="application/json")),D&&q(D,(function(e){if(l&&pbjs.bidderSettings&&pbjs.bidderSettings.aol&&"function"==typeof pbjs.bidderSettings.aol.bidCpmAdjustment&&z.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net â€“ please contact your accounts team to enable."),l=!1,!e&&e.length<=0){return z.logError("Empty bid response",u,I),P(I,e),void 0}try{e=JSON.parse(e)}catch(r){return z.logError("Invalid JSON in bid response",u,I),P(I,e),void 0}s(I,e)}),R,E)}))}var l=!0,Q=H(k,"protocol","host","network","placement","pageid","sizeid","alias","bidfloor","misc"),o=H(g,"protocol","host"),c=H(w,"dcn","pos","ext"),u="aol",a={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},i="hb.nexage.com",G={iframe:"IFRAME",img:"IMG"},C=(function(){var f=!1;return function(e){var r=function(){return f?void 0:(f=!0,e())};return"complete"===document.readyState?r():(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1),void 0)}})();return{callBids:d}};p.exports=m}),(function(h,l,f){function b(v,y,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var x=void 0,w=!1,o=a.method||(i?"POST":"GET"),s="object"===("undefined"==typeof y?"undefined":c(y))?y:{success:function(){m.logMessage("xhr success")},error:function(n){m.logError("xhr error",null,n)}};if("function"==typeof y&&(s.success=y),window.XMLHttpRequest?(x=new window.XMLHttpRequest,void 0===x.responseType&&(w=!0)):w=!0,w?(x=new window.XDomainRequest,x.onload=function(){s.success(x.responseText,x)},x.onerror=function(){s.error("error",x)},x.ontimeout=function(){s.error("timeout",x)},x.onprogress=function(){m.logMessage("xhr onprogress")}):x.onreadystatechange=function(){if(x.readyState===j){var n=x.status;n>=200&&300>n||304===n?s.success(x.responseText,x):s.error(x.statusText,x)}},"GET"===o&&i){var d=k.parse(v);g(d.search,i),v=k.format(d)}x.open(o,v),w||(a.withCredentials&&(x.withCredentials=!0),m._each(a.customHeaders,(function(p,n){x.setRequestHeader(n,p)})),a.preflight&&x.setRequestHeader("X-Requested-With","XMLHttpRequest"),x.setRequestHeader("Content-Type",a.contentType||"text/plain")),x.send("POST"===o&&i)}catch(q){m.logError("xhr construction",q)}}Object.defineProperty(l,"__esModule",{value:!0});var g=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var d in o){Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d])}}return i},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};l.ajax=b;var k=f(11),m=f(2),j=4}),(function(g,d){function j(a){return a?a.replace(/^\?/,"").split("&").reduce((function(p,l){var s=l.split("="),m=b(s,2),k=m[0],q=m[1];return/\[\]$/.test(k)?(k=k.replace("[]",""),p[k]=p[k]||[],p[k].push(q)):p[k]=q||"",p}),{}):{}}function f(a){return Object.keys(a).map((function(e){return Array.isArray(a[e])?a[e].map((function(i){return e+"[]="+i})).join("&"):e+"="+a[e]})).join("&")}function c(i){var a=document.createElement("a");return a.href=decodeURIComponent(i),{protocol:(a.protocol||"").replace(/:$/,""),hostname:a.hostname,port:+a.port,pathname:a.pathname.replace(/^(?!\/)/,"/"),search:j(a.search||""),hash:(a.hash||"").replace(/^#/,""),host:a.host}}function h(a){return(a.protocol||"http")+"://"+(a.host||a.hostname+(a.port?":"+a.port:""))+(a.pathname||"")+(a.search?"?"+f(a.search||""):"")+(a.hash?"#"+a.hash:"")}Object.defineProperty(d,"__esModule",{value:!0});var b=(function(){function a(q,w){var m=[],k=!0,p=!1,l=void 0;try{for(var v,x=q[Symbol.iterator]();!(k=(v=x.next()).done)&&(m.push(v.value),!w||m.length!==w);k=!0){}}catch(u){p=!0,l=u}finally{try{!k&&x["return"]&&x["return"]()}finally{if(p){throw l}}}return m}return function(e,i){if(Array.isArray(e)){return e}if(Symbol.iterator in Object(e)){return a(e,i)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();d.parseQS=j,d.formatQS=f,d.parse=c,d.format=h}),(function(d,b,f){function c(i,g){function k(){switch(j){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var h=g&&g.bidId||a.getUniqueIdentifierStr(),j=i||0;this.bidderCode="",this.width=0,this.height=0,this.statusMessage=k(),this.adId=h,this.getStatusCode=function(){return j},this.getSize=function(){return this.width+"x"+this.height}}var a=f(2);b.createBid=function(){return new (Function.prototype.bind.apply(c,[null].concat(Array.prototype.slice.call(arguments))))}}),(function(ad,L,W){function P(){return(new Date).getTime()}function Z(a){return a.bidderCode}function V(a){return a.bidder}function ah(c){var a=this,d=pbjs._bidsRequested.map((function(e){return e.bids.filter(F.adUnitsFilter.bind(a,pbjs._adUnitCodes)).filter((function(f){return f.placementCode===c}))})).reduce(F.flatten,[]).map((function(f){return"indexExchange"===f.bidder?f.sizes.length:1})).reduce(N,0),b=pbjs._bidsReceived.filter((function(e){return e.adUnitCode===c})).length;return d===b}function N(b,a){return b+a}function ae(){var b=pbjs._bidsRequested.map((function(c){return c.bids})).reduce(F.flatten,[]).filter(F.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map((function(c){return"indexExchange"===c.bidder?c.sizes.length:1})).reduce((function(d,c){return d+c}),0),a=pbjs._bidsReceived.filter(F.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length;return b===a}function J(b,a){return pbjs._bidsRequested.find((function(c){return c.bids.filter((function(d){return d.bidder===b&&d.placementCode===a})).length>0}))||{start:null,requestId:null}}function af(d,b){var f={},c=pbjs.bidderSettings;if(b&&c){var a=ag();Y(f,a,b)}return d&&b&&c&&c[d]&&c[d][G.JSON_MAPPING.ADSERVER_TARGETING]?(Y(f,c[d],b),b.alwaysUseBid=c[d].alwaysUseBid,b.sendStandardTargeting=c[d].sendStandardTargeting):O[d]&&(Y(f,O[d],b),b.alwaysUseBid=O[d].alwaysUseBid,b.sendStandardTargeting=O[d].sendStandardTargeting),f}function Y(c,a,d){var b=a[G.JSON_MAPPING.ADSERVER_TARGETING];return d.size=d.getSize(),K._each(b,(function(g){var f=g.key,h=g.val;if(c[f]&&K.logWarn("The key: "+f+" is getting ovewritten"),K.isFn(h)){try{h=h(d)}catch(e){K.logError("bidmanager","ERROR",e)}}("undefined"==typeof a.suppressEmptyKeys||a.suppressEmptyKeys!==!0)&&"hb_deal"!==f||!K.isEmptyStr(h)&&null!==h&&void 0!==h?c[f]=h:K.logInfo("suppressing empty key '"+f+"' from adserver targeting")})),c}function ac(b){var a=[b];U(Q.byAdUnit,a)}function U(b,a){var c=this;K.isArray(b)&&b.forEach((function(g){var f=a||pbjs._adUnitCodes,d=[pbjs._bidsReceived.filter(F.adUnitsFilter.bind(c,f)).reduce(ab,{})];g.apply(pbjs,d)}))}function ab(b,a){return b[a.adUnitCode]||(b[a.adUnitCode]={bids:[]}),b[a.adUnitCode].bids.push(a),b}function X(c){var a=c.bidderCode,d=c.cpm;if(a&&pbjs.bidderSettings&&pbjs.bidderSettings[a]&&aa(pbjs.bidderSettings[a].bidCpmAdjustment)===B){try{d=pbjs.bidderSettings[a].bidCpmAdjustment.call(null,c.cpm,z({},c))}catch(b){K.logError("Error during bid adjustment","bidmanager.js",b)}}d>=0&&(c.cpm=d)}function ag(){var a=pbjs.bidderSettings;return a[G.JSON_MAPPING.BD_SETTING_STANDARD]||(a[G.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(b){return b.bidderCode}},{key:"hb_adid",val:function(b){return b.adId}},{key:"hb_pb",val:function(b){return M===G.GRANULARITY_OPTIONS.AUTO?b.pbAg:M===G.GRANULARITY_OPTIONS.DENSE?b.pbDg:M===G.GRANULARITY_OPTIONS.LOW?b.pbLg:M===G.GRANULARITY_OPTIONS.MEDIUM?b.pbMg:M===G.GRANULARITY_OPTIONS.HIGH?b.pbHg:M===G.GRANULARITY_OPTIONS.CUSTOM?b.pbCg:void 0}},{key:"hb_size",val:function(b){return b.size}},{key:"hb_deal",val:function(b){return b.dealId}}]}),a[G.JSON_MAPPING.BD_SETTING_STANDARD]}function H(){return ag()[G.JSON_MAPPING.ADSERVER_TARGETING]}var aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var d=arguments[a];for(var b in d){Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b])}}return c},F=W(2),ai=W(14),G=W(3),k=G.EVENTS.AUCTION_END,K=W(2),j=W(8),B="function",Q={byAdUnit:[],all:[],oneTime:null,timer:!1},M=G.GRANULARITY_OPTIONS.MEDIUM,q=void 0,O={};L.setCustomPriceBucket=function(a){q=a},L.getTimedOutBidders=function(){return pbjs._bidsRequested.map(Z).filter(F.uniques).filter((function(a){return pbjs._bidsReceived.map(V).filter(F.uniques).indexOf(a)<0}))},L.bidsBackAll=function(){return ae()},L.addBidResponse=function(h,r){if(!h){return K.logWarn("No adUnitCode supplied to addBidResponse, response discarded"),void 0}if(r){var b=J(r.bidderCode,h),m=b.requestId,c=b.start;if(z(r,{requestId:m,responseTimestamp:P(),requestTimestamp:c,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:h}),r.timeToRespond=r.responseTimestamp-r.requestTimestamp,r.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){var a=!0;L.executeCallback(a)}j.emit(G.EVENTS.BID_ADJUSTMENT,r),j.emit(G.EVENTS.BID_RESPONSE,r);var f=ai.getPriceBucketString(r.cpm,q);r.pbLg=f.low,r.pbMg=f.med,r.pbHg=f.high,r.pbAg=f.auto,r.pbDg=f.dense,r.pbCg=f.custom;var d={};r.bidderCode&&(r.cpm>0||r.dealId)&&(d=af(r.bidderCode,r)),r.adserverTargeting=d,pbjs._bidsReceived.push(r)}r&&r.adUnitCode&&ah(r.adUnitCode)&&ac(r.adUnitCode),ae()&&L.executeCallback()},L.getKeyValueTargetingPairs=function(){return af.apply(void 0,arguments)},L.setPriceGranularity=function(b){var a=G.GRANULARITY_OPTIONS;Object.keys(a).filter((function(c){return b===a[c]}))?M=b:(K.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."),M=G.GRANULARITY_OPTIONS.MEDIUM)},L.registerDefaultBidderSetting=function(b,a){O[b]=a},L.executeCallback=function(b){if(!b&&Q.timer&&clearTimeout(Q.timer),Q.all.called!==!0&&(U(Q.all),Q.all.called=!0,b)){var c=L.getTimedOutBidders();c.length&&j.emit(G.EVENTS.BID_TIMEOUT,c)}if(Q.oneTime){j.emit(k);try{U([Q.oneTime])}catch(a){K.logError("Error executing bidsBackHandler",null,a)}finally{Q.oneTime=null,Q.timer=!1,pbjs.clearAuction()}}},L.externalCallbackReset=function(){Q.all.called=!1},L.addOneTimeCallback=function(b,a){Q.oneTime=b,Q.timer=a},L.addCallback=function(b,a,c){a.id=b,G.CB.TYPE.ALL_BIDS_BACK===c?Q.all.push(a):G.CB.TYPE.AD_UNIT_BIDS_BACK===c&&Q.byAdUnit.push(a)},j.on(G.EVENTS.BID_ADJUSTMENT,(function(a){X(a)})),L.adjustBids=function(){return X.apply(void 0,arguments)},L.getStandardBidderAdServerTargeting=H}),(function(k,w){function g(c,a){var d=0;return d=parseFloat(c),isNaN(d)&&(d=""),{low:""===d?"":b(c,x),med:""===d?"":b(c,m),high:""===d?"":b(c,v),auto:""===d?"":b(c,h),dense:""===d?"":b(c,p),custom:""===d?"":b(c,a)}}function b(i,a){var l="";if(!j(a)){return l}var d=a.buckets.reduce((function(o,n){return o.max>n.max?o:n}),{max:0}),c=a.buckets.find((function(n){if(i>d.max){var e=n.precision||q;l=n.max.toFixed(e)}else{if(i<=n.max&&i>=n.min){return n}}}));return c&&(l=f(i,c.increment,c.precision)),l}function j(c){if(!c||!c.buckets||!Array.isArray(c.buckets)){return !1}var a=!0;return c.buckets.forEach((function(d){"undefined"!=typeof d.min&&d.max&&d.increment||(a=!1)})),a}function f(d,a,i){i||(i=q);var c=1/a;return(Math.floor(d*c)/c).toFixed(i)}Object.defineProperty(w,"__esModule",{value:!0});var q=2,x={buckets:[{min:0,max:5,increment:0.5}]},m={buckets:[{min:0,max:20,increment:0.1}]},v={buckets:[{min:0,max:20,increment:0.01}]},p={buckets:[{min:0,max:3,increment:0.01},{min:3,max:8,increment:0.05},{min:8,max:20,increment:0.5}]},h={buckets:[{min:0,max:5,increment:0.05},{min:5,max:10,increment:0.1},{min:10,max:20,increment:0.5}]};w.getPriceBucketString=g,w.isValidePriceConfig=j}),(function(g,d,j){var f=j(12),c=j(13),h=j(16),b=function(){var i=this,a=window.location.protocol+"//prebid.districtm.ca/lib.js";return this.callBids=function(e){return window.hb_dmx_res?i.sendBids(e):h.loadScript(a,(function(){i.sendBids(e)})),e},this.handlerRes=function(l,k){var m=void 0;return parseFloat(l.result.cpm)>0?(m=f.createBid(1),m.bidderCode=k.bidder,m.cpm=l.result.cpm,m.width=l.result.width,m.height=l.result.height,m.ad=l.result.banner,c.addBidResponse(k.placementCode,m)):(m=f.createBid(2),m.bidderCode=k.bidder,c.addBidResponse(k.placementCode,m)),m},this.sendBids=function(l){for(var k=l.bids,m=0;m<k.length;m++){k[m].params.sizes=window.hb_dmx_res.auction.fixSize(k[m].sizes)}return window.hb_dmx_res.auction.run(window.hb_dmx_res.ssp,k,this.handlerRes),k},{callBids:this.callBids,sendBids:this.sendBids,handlerRes:this.handlerRes}};g.exports=b}),(function(d,b,g){function c(j,h){var k=document.createElement("script");k.type="text/javascript",k.async=!0,h&&"function"==typeof h&&(k.readyState?k.onreadystatechange=function(){("loaded"===k.readyState||"complete"===k.readyState)&&(k.onreadystatechange=null,h())}:k.onload=function(){h()}),k.src=j;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(k,i.firstChild))}var a=g(2),f={};b.loadScript=function(i,h,j){return i?(j?f[i]?h&&"function"==typeof h&&(f[i].loaded?h():f[i].callbacks.push(h)):(f[i]={loaded:!1,callbacks:[]},h&&"function"==typeof h&&f[i].callbacks.push(h),c(i,(function(){f[i].loaded=!0;try{for(var e=0;e<f[i].callbacks.length;e++){f[i].callbacks[e]()}}catch(k){a.logError("Error executing callback","adloader.js:loadScript",k)}}))):c(i,h),void 0):(a.logError("Error attempting to request empty URL","adloader.js:loadScript"),void 0)}}),(function(h,d,k){var g=k(12),c=k(13),j=k(16),b=k(2),f=function(){function p(l){"undefined"==typeof window.pp?j.loadScript(r,(function(){m(l)}),!0):m(l)}function m(u){for(var n=u.bids,s=0;s<n.length;s++){var l=n[s];v(l)}}function v(s){try{var l=new window.pp.Ad(o(s));l.display()}catch(u){b.logError("pulsepoint.requestBid","ERROR",u),i(s)}}function o(u){var l=q(u),w={cn:1,ca:window.pp.requestActions.BID,cu:a,adUnitId:u.placementCode,callback:l};for(var s in u.params){u.params.hasOwnProperty(s)&&(w[s]=u.params[s])}return w}function q(l){return function(e){i(l,e)}}function i(u,s){if(s){var x=u.params.cf.toUpperCase().split("X"),w=g.createBid(1,u);w.bidderCode=u.bidder,w.cpm=s.bidCpm,w.ad=s.html,w.width=x[0],w.height=x[1],c.addBidResponse(u.placementCode,w)}else{var l=g.createBid(2,u);l.bidderCode=u.bidder,c.addBidResponse(u.placementCode,l)}}var r=window.location.protocol+"//tag-st.contextweb.com/getjs.static.js",a=window.location.protocol+"//bid.contextweb.com/header/tag";return{callBids:p}};h.exports=f}),(function(h,l,f){var b=f(3),g=f(2),c=f(12),k=f(13),m=f(16),j=function(){function i(d){var q=d.bids||[];a(q)}function a(s){var r=window.location.host,w=window.location.pathname+location.search+location.hash,v=[];g._each(s,(function(C){var z=g.getBidIdParameter("tagid",C.params),E=g.getBidIdParameter("bidfloor",C.params),B=0,x=0,A=Array.isArray(C.params.sizes)?C.params.sizes:C.sizes,D=A.length;2===D&&"number"==typeof A[0]&&"number"==typeof A[1]?(B=A[0],x=A[1]):(B=A[0][0],x=A[0][1]);var y={id:C.bidId,banner:{w:B,h:x},tagid:z,bidfloor:E};v.push(y)}));var d={id:g.getUniqueIdentifierStr(),imp:v,site:{domain:r,page:w}},q="//"+o+"?callback=window.pbjs.sovrnResponse&src="+b.REPO_AND_VERSION+"&br="+encodeURIComponent(JSON.stringify(d));m.loadScript(q)}function p(n){var d=pbjs._bidsRequested.find((function(q){return"sovrn"===q.bidderCode}));d=d?d.bids.filter((function(e){return n.indexOf(e.bidId)<0})):[],d.forEach((function(r){var q={};q=c.createBid(2,r),q.bidderCode="sovrn",k.addBidResponse(r.placementCode,q)}))}var o="ap.lijit.com/rtb/bid";return pbjs.sovrnResponse=function(n){if(n&&n.id){if(n.seatbid&&0!==n.seatbid.length&&n.seatbid[0].bid&&0!==n.seatbid[0].bid.length){var d=[];n.seatbid[0].bid.forEach((function(w){var z,t="",v=w.impid,x={},r=pbjs._bidsRequested.find((function(s){return"sovrn"===s.bidderCode})).bids.find((function(s){return s.bidId===v}));if(r&&(t=r.placementCode,r.status=b.STATUS.GOOD,z=parseFloat(w.price),0!==z)){w.placementCode=t,w.size=r.sizes;var y=w.adm,q='<img src="'+w.nurl+'">';x=c.createBid(1,r),x.creative_id=w.id,x.bidderCode="sovrn",x.cpm=z,x.ad=decodeURIComponent(y+q),x.width=parseInt(w.w),x.height=parseInt(w.h),k.addBidResponse(t,x),d.push(v)}})),p(d)}else{p([])}}else{p([])}},{callBids:i}};h.exports=j}),(function(g,d,j){var f=j(12),c=j(13),h=j(16),b=function(){function o(a){!window.criteo_pubtag||window.criteo_pubtag instanceof Array?(w(a),h.loadScript(q,(function(){}),!0)):w(a)}function w(l){window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var a=function(){for(var u=l.bids||[],A=[],y=!1,s=0;s<u.length;s++){var z=u[s];A.push(new Criteo.PubTag.DirectBidding.DirectBiddingSlot(z.placementCode,z.params.zoneId,void 0,z.transactionId)),y|=void 0!==z.params.audit}var e=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(m,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(y),A,x(A),p(A),p(A));window.criteo_pubtag.push(e)};window.Criteo.events.push(a)}function i(l){try{return JSON.parse(l)}catch(a){return{}}}function r(a){return void 0===a.slots}function x(a){return function(e){var y=i(e);if(r(y)){return p(a)()}for(var l=0;l<a.length;l++){for(var z=null,n=0;n<y.slots.length;n++){if(y.slots[n]&&y.slots[n].impid===a[l].impId){z=y.slots.splice(n,1)[0];break}}var u;z?(u=f.createBid(1),u.bidderCode=k,u.cpm=z.cpm,u.ad=z.creative,u.width=z.width,u.height=z.height):u=v(),c.addBidResponse(a[l].impId,u)}}}function p(a){return function(){for(var e=0;e<a.length;e++){c.addBidResponse(a[e].impId,v())}}}function v(){var a=f.createBid(2);return a.bidderCode=k,a}var q=window.location.protocol+"//static.criteo.net/js/ld/publishertag.js",k="criteo",m=125;return{callBids:o}};g.exports=b}),(function(j,q,g){var b="2.0.1",h=g(3),f=g(2),m=g(12),v=g(13),k=g(16),p=g(10).ajax,l=function(){var u=window,y=navigator,d="//media.msg.dotomi.com/s2s/header?callback=pbjs.conversantResponse",w=function(z){var c=document.createElement("script");c.type="text/javascript",c.className="cnvr-response";try{c.appendChild(document.createTextNode(z)),document.getElementsByTagName("head")[0].appendChild(c)}catch(A){c.text=z,document.getElementsByTagName("head")[0].appendChild(c)}},o=function(){return"1"===y.doNotTrack||"1"===u.doNotTrack||"1"===y.msDoNotTrack||"yes"===y.doNotTrack},s=function(){var c=y.language?"language":"userLanguage";return{h:screen.height,w:screen.width,dnt:o()?1:0,language:y[c].split("-")[0],make:y.vendor?y.vendor:"",ua:y.userAgent}},a=function(n){var c=n.bids||[];r(c)},r=function(C){var A,z=location.pathname+location.search+location.hash,n="",B=[],D=0;f._each(C,(function(H){var G,J=f.getBidIdParameter("bidfloor",H.params),F=0,E=0;D=f.getBidIdParameter("secure",H.params)?1:D,n=f.getBidIdParameter("site_id",H.params)+"";var I=Array.isArray(H.params.sizes)?H.params.sizes:H.sizes;2===I.length&&"number"==typeof I[0]&&"number"==typeof I[1]?(F=I[0],E=I[1]):(F=I[0][0],E=I[0][1]),G={id:H.bidId,banner:{w:F,h:E},secure:D,bidfloor:J?J:0,displaymanager:"Prebid.js",displaymanagerver:b},B.push(G)})),A={id:f.getUniqueIdentifierStr(),imp:B,site:{id:n,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:z},device:s(),at:1};var c=D?"https:"+d:location.protocol+d;p(c,w,JSON.stringify(A),{withCredentials:!0})},i=function(n){var c=pbjs._bidsRequested.find((function(t){return"conversant"===t.bidderCode}));c&&c.bids&&f._each(c.bids,(function(e){if(!f.contains(n,e.placementCode)){var z=m.createBid(2,e);z.bidderCode="conversant",v.addBidResponse(e.placementCode,z)}}))},x=function(n){var c=[];f._each(n.bid,(function(D){var A,t,z,E,G="",F=D.impid,B={},C=pbjs._bidsRequested.find((function(H){return"conversant"===H.bidderCode})).bids.find((function(H){return H.bidId===F}));C&&(G=C.placementCode,C.status=h.STATUS.GOOD,A=parseFloat(D.price),0!==A&&(D.placementCode=G,c.push(G),D.size=C.sizes,t=D.adm||"",z=D.nurl||"",B=m.createBid(1,C),B.creative_id=D.id||"",B.bidderCode="conversant",B.cpm=A,B.ad=t+'<img src="'+z+'" />',E=C.sizes.length,2===E&&"number"==typeof C.sizes[0]&&"number"==typeof C.sizes[1]?(B.width=C.sizes[0],B.height=C.sizes[1]):(B.width=C.sizes[0][0],B.height=C.sizes[0][1]),v.addBidResponse(G,B)))})),i(c)};return pbjs.conversantResponse=function(n,c){n&&n.id?n.seatbid&&n.seatbid.length>0&&n.seatbid[0].bid&&n.seatbid[0].bid.length>0?f._each(n.seatbid,x):i([]):i([]),c&&k.loadScript(c,(function(){var t=pbjs._bidsRequested.find((function(z){return"conversant"===z.bidderCode}));pbjs.conversantDebugResponse&&pbjs.conversantDebugResponse(t)}))},{callBids:a}};j.exports=l}),(function(F,k,z){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C=z(2),y=z(12),J=z(13),q=z(16),G="INDEXEXCHANGE",j="indexExchange",H={INDEX_DEBUG_MODE:{queryParam:"pbjs_ix_debug",mode:{sandbox:{topFrameLimit:10,queryValue:"sandbox",siteID:"999990"}}}},B="IOM",E="IPM";window.cygnus_index_parse_res=function(M){try{if(M){if("object"!==("undefined"==typeof _IndexRequestData?"undefined":w(_IndexRequestData))||"object"!==w(_IndexRequestData.impIDToSlotID)||"undefined"==typeof _IndexRequestData.impIDToSlotID[M.id]){return}var S,r=1;"object"===w(_IndexRequestData.reqOptions)&&"object"===w(_IndexRequestData.reqOptions[M.id])&&("function"==typeof _IndexRequestData.reqOptions[M.id].callback&&(S=_IndexRequestData.reqOptions[M.id].callback),"number"==typeof _IndexRequestData.reqOptions[M.id].targetMode&&(r=_IndexRequestData.reqOptions[M.id].targetMode)),_IndexRequestData.lastRequestID=M.id,_IndexRequestData.targetIDToBid={},_IndexRequestData.targetIDToResp={},_IndexRequestData.targetIDToCreative={};for(var K=[],l="undefined"==typeof M.seatbid?0:M.seatbid.length,Q=0;l>Q;Q++){for(var T=0;T<M.seatbid[Q].bid.length;T++){var N=M.seatbid[Q].bid[T];if("object"===w(N.ext)&&"string"==typeof N.ext.pricelevel&&"undefined"!=typeof _IndexRequestData.impIDToSlotID[M.id][N.impid]){var R,O,f,L=_IndexRequestData.impIDToSlotID[M.id][N.impid];"string"==typeof N.ext.dealid?(R=1===r?L+N.ext.pricelevel:L+"_"+N.ext.dealid,O=L+"_"+N.ext.dealid,f=E+"_"):(R=L+N.ext.pricelevel,O=L+N.ext.pricelevel,f=B+"_"),void 0===_IndexRequestData.targetIDToBid[R]?_IndexRequestData.targetIDToBid[R]=[N.adm]:_IndexRequestData.targetIDToBid[R].push(N.adm),void 0===_IndexRequestData.targetIDToCreative[O]?_IndexRequestData.targetIDToCreative[O]=[N.adm]:_IndexRequestData.targetIDToCreative[O].push(N.adm);var v={};v.impressionID=N.impid,"undefined"!=typeof N.ext.dealid&&(v.dealID=N.ext.dealid),v.bid=N.price,v.slotID=L,v.priceLevel=N.ext.pricelevel,v.target=f+R,_IndexRequestData.targetIDToResp[R]=v,K.push(v)}}}"function"==typeof S&&(0===K.length?S(M.id):S(M.id,K))}}catch(P){}"function"==typeof window.cygnus_index_ready_state&&window.cygnus_index_ready_state()},window.index_render=function(d,b){try{var g=_IndexRequestData.targetIDToCreative[b].pop();if(null!=g){d.write(g)}else{var c="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";c+="/headerstats?type=RT&s="+cygnus_index_args.siteID+"&u="+encodeURIComponent(location.href)+"&r="+_IndexRequestData.lastRequestID;var a=new Image;a.src=c+"&blank="+b}}catch(f){}},window.headertag_render=function(g,d,m){for(var f=m,c=d.split(","),l=0;l<c.length;l++){var b=c[l].split("_");if(b[0]==f){return index_render(g,c[l]),void 0}}},window.cygnus_index_args={};var x=[[728,90],[120,600],[300,250],[160,600],[336,280],[234,60],[300,600],[300,50],[320,50],[970,250],[300,1050],[970,90],[180,150]],D=function(){return A(H.INDEX_DEBUG_MODE.queryParam).toUpperCase()},A=function(l){for(var u=window,f="",b=0;b<H.INDEX_DEBUG_MODE.mode.sandbox.topFrameLimit&&u.parent!=u;b++){try{f=u.document.referrer}catch(g){}u=u.parent}var c=top===self?location.href:f,p="[\\?&]"+l+"=([^&#]*)",v=new RegExp(p),m=v.exec(c);return null===m?"":decodeURIComponent(m[1].replace(/\+/g," "))},I=function(){function m(f){var a=c[f];return"string"==typeof a?a:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)}function K(a){return b.lastIndex=0,b.test(a)?a.replace(b,m):a}function d(f,a,l){if(this.initialized=!1,"number"!=typeof f||f%1!==0||0>f){throw"Invalid Site ID"}if(l=Number(l),"number"==typeof l&&l%1===0&&l>=0&&(this.timeoutDelay=l),this.siteID=f,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof a){if("function"!=typeof a){throw"Invalid jsonp target function"}this._parseFnName="cygnus_index_args.parseFn"}_IndexRequestData.requestCounter="undefined"==typeof _IndexRequestData.requestCounter?Math.floor(256*Math.random()):(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592000*256+_IndexRequestData.requestCounter+256),this.initialized=!0}window.cygnus_index_args.parseFn=cygnus_index_parse_res;var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};d.prototype.serialize=function(){var l='{"id":"'+this.requestID+'","site":{"page":"'+K(this.sitePage)+'"';"string"==typeof document.referrer&&""!==document.referrer&&(l+=',"ref":"'+K(document.referrer)+'"'),l+='},"imp":[';for(var o=0;o<this.impressions.length;o++){var f=this.impressions[o],a=[];l+='{"id":"'+f.id+'", "banner":{"w":'+f.w+',"h":'+f.h+',"topframe":'+String(this.topframe)+"}","number"==typeof f.bidfloor&&(l+=',"bidfloor":'+f.bidfloor,"string"==typeof f.bidfloorcur&&(l+=',"bidfloorcur":"'+K(f.bidfloorcur)+'"')),"string"!=typeof f.slotID||f.slotID.match(/^\s*$/)||a.push('"sid":"'+K(f.slotID)+'"'),"number"==typeof f.siteID&&a.push('"siteID":'+f.siteID),a.length>0&&(l+=',"ext": {'+a.join()+"}"),l+=o+1===this.impressions.length?"}":"},"}return l+="]}"},d.prototype.setPageOverride=function(a){return"string"!=typeof a||a.match(/^\s*$/)?!1:(this.sitePage=a,!0)},d.prototype.addImpression=function(M,s,O,u,l,N){var f={id:String(this.impressions.length+1)};if("number"!=typeof M||1>=M){return null}if("number"!=typeof s||1>=s){return null}if(("string"==typeof l||"number"==typeof l)&&String(l).length<=50&&(f.slotID=String(l)),f.w=M,f.h=s,void 0!==O&&"number"!=typeof O){return null}if("number"==typeof O){if(0>O){return null}if(f.bidfloor=O,void 0!==u&&"string"!=typeof u){return null}f.bidfloorcur=u}if("undefined"!=typeof N){if(!("number"==typeof N&&N%1===0&&N>=0)){return null}f.siteID=N}return this.impressions.push(f),f.id},d.prototype.buildRequest=function(){if(0!==this.impressions.length&&this.initialized===!0){var f,a=encodeURIComponent(this.serialize());D()==H.INDEX_DEBUG_MODE.mode.sandbox.queryValue.toUpperCase()?(this.siteID=H.INDEX_DEBUG_MODE.mode.sandbox.siteID,f="https:"===window.location.protocol?"https://sandbox.ht.indexexchange.com":"http://sandbox.ht.indexexchange.com",C.logMessage("IX DEBUG: Sandbox mode activated")):f="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";var l=encodeURIComponent("0.23.0");return f+="/cygnus?v=7&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+a+"&pid=pb"+l,"number"==typeof this.timeoutDelay&&this.timeoutDelay%1===0&&this.timeoutDelay>=0&&(f+="&t="+this.timeoutDelay),f}};try{if("undefined"==typeof cygnus_index_args||"undefined"==typeof cygnus_index_args.siteID||"undefined"==typeof cygnus_index_args.slots){return}var p=new d(cygnus_index_args.siteID,cygnus_index_args.parseFn,cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&p.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[p.requestID]={},_IndexRequestData.reqOptions[p.requestID]={};for(var L,v,g=0;g<cygnus_index_args.slots.length;g++){L=cygnus_index_args.slots[g],v=p.addImpression(L.width,L.height,L.bidfloor,L.bidfloorcur,L.id,L.siteID),v&&(_IndexRequestData.impIDToSlotID[p.requestID][v]=String(L.id))}return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[p.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[p.requestID].callback=cygnus_index_args.callback),p.buildRequest()}catch(i){C.logError("Error calling index adapter",G,i)}},h=function(){function m(K){var n=K.bids;if("undefined"==typeof window._IndexRequestData&&(window._IndexRequestData={},window._IndexRequestData.impIDToSlotID={},window._IndexRequestData.reqOptions={}),_IndexRequestData.targetAggregate={open:{},"private":{}},C.hasValidBidRequest(n[0].params,i,G)){cygnus_index_args.slots=[];for(var Q=0,u=0;u<n.length;u++){var L=n[u],N=0;Q++,L.sizes[0] instanceof Array||(L.sizes=[L.sizes]);for(var P=0;P<L.sizes.length;P++){for(var O=!1,s=0;s<x.length;s++){if(L.sizes[P][0]==x[s][0]&&L.sizes[P][1]==x[s][1]){L.sizes[P][0]=Number(L.sizes[P][0]),L.sizes[P][1]=Number(L.sizes[P][1]),O=!0;break}}if(O){var U=!1;if(L.params.size&&L.params.size instanceof Array){if(L.sizes[P][0]!=L.params.size[0]||L.sizes[P][1]!=L.params.size[1]){continue}U=!0}L.params.timeout&&"undefined"==typeof cygnus_index_args.timeout&&(cygnus_index_args.timeout=L.params.timeout);var r=Number(L.params.siteID);if("number"!=typeof r||r%1!=0||0>=r){C.logMessage(G+" slot excluded from request due to invalid siteID")}else{if(r&&"undefined"==typeof cygnus_index_args.siteID&&(cygnus_index_args.siteID=r),C.hasValidBidRequest(L.params,i,G)){d=L.placementCode;var M=L.params[i[0]];if("string"!=typeof M&&"number"!=typeof M){C.logError(G+" bid contains invalid slot ID from "+L.placementCode+". Discarding slot");continue}N++;var l={width:L.sizes[P][0],height:L.sizes[P][1]},c=U?String(M):M+"_"+N;if(a[c]=L,cygnus_index_args.slots=b({id:c,width:l.width,height:l.height,siteID:r||cygnus_index_args.siteID},cygnus_index_args.slots),L.params.tier2SiteID){var t=Number(L.params.tier2SiteID);if("undefined"!=typeof t&&!t){continue}cygnus_index_args.slots=b({id:"T1_"+c,width:l.width,height:l.height,siteID:t},cygnus_index_args.slots)}if(L.params.tier3SiteID){var f=Number(L.params.tier3SiteID);if("undefined"!=typeof f&&!f){continue}cygnus_index_args.slots=b({id:"T2_"+c,width:l.width,height:l.height,siteID:f},cygnus_index_args.slots)}}}}else{C.logMessage(G+" slot excluded from request due to no valid sizes")}}}cygnus_index_args.slots.length>20&&C.logError("Too many unique sizes on slots, will use the first 20.",G),q.loadScript(I());var g=!1;window.cygnus_index_ready_state=function(){if(!g){g=!0;try{var Z=_IndexRequestData.targetIDToBid;for(var ag in a){var ah=a[ag],Y=ah.placementCode,R=[];for(var X in Z){var T=/^(T\d_)?(.+)_(\d+)$/.exec(X);if(T){var ab=T[1]||"",af=T[2],W=T[3],aa=p(cygnus_index_args,ab+af);if(af===ag){var ad=y.createBid(1);ad.cpm=W/100,ad.ad=Z[X][0],ad.bidderCode=j,ad.width=aa.width,ad.height=aa.height,ad.siteID=aa.siteID,"object"===w(_IndexRequestData.targetIDToResp)&&"object"===w(_IndexRequestData.targetIDToResp[X])&&"undefined"!=typeof _IndexRequestData.targetIDToResp[X].dealID?("undefined"==typeof _IndexRequestData.targetAggregate["private"][Y]&&(_IndexRequestData.targetAggregate["private"][Y]=[]),ad.dealId=_IndexRequestData.targetIDToResp[X].dealID,_IndexRequestData.targetAggregate["private"][Y].push(af+"_"+_IndexRequestData.targetIDToResp[X].dealID)):("undefined"==typeof _IndexRequestData.targetAggregate.open[Y]&&(_IndexRequestData.targetAggregate.open[Y]=[]),_IndexRequestData.targetAggregate.open[Y].push(af+"_"+W)),R.push(ad)}}else{C.logError("Unable to parse "+X+", skipping slot",G)}}var ae=void 0;if(R.length>0){for(var ac=0;ac<R.length;ac++){J.addBidResponse(Y,R[ac])}}else{var ad=y.createBid(2);ad.bidderCode=j,ae=ad,J.addBidResponse(Y,ae)}}}catch(V){C.logError("Error calling index adapter",G,V),o()}finally{_IndexRequestData.targetIDToBid={}}a={}}}}}function b(f,c){for(var g=0;g<c.length;g++){if(f.id===c[g].id){return c}}return c.push(f),c}function p(g,c){var l=g.slots,f={};return C._each(l,(function(n){n.id===c&&(f=n)})),f}function o(){var c=y.createBid(2);c.bidderCode=j,J.addBidResponse(d,c)}var a={},i=["id","siteID"],d="";return{callBids:m}};F.exports=h}),(function(p,y,h){var b,k=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var f=arguments[a];for(var c in f){Object.prototype.hasOwnProperty.call(f,c)&&(d[c]=f[c])}}return d},g=h(2),w=h(3),z=h(2),q=h(16),x=h(13),v=h(12),j=h(23);b=function m(){function c(H,O){var B=z.getBidIdParameter("placementId",H.params),i=z.getBidIdParameter("memberId",H.params),A=z.getBidIdParameter("member",H.params),L=z.getBidIdParameter("invCode",H.params),I=z.getBidIdParameter("query",H.params),N=z.getBidIdParameter("referrer",H.params),J=z.getBidIdParameter("alt_referrer",H.params),D="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");D=z.tryAppendQueryString(D,"callback","pbjs.handleAnCB"),D=z.tryAppendQueryString(D,"callback_uid",O),D=z.tryAppendQueryString(D,"psa","0"),D=z.tryAppendQueryString(D,"id",B),A?D=z.tryAppendQueryString(D,"member",A):i&&(D=z.tryAppendQueryString(D,"member",i),z.logMessage('appnexus.callBids: "memberId" will be deprecated soon. Please use "member" instead')),D=z.tryAppendQueryString(D,"code",L);var G="",s=z.parseSizesInput(H.sizes),F=s.length;if(F>0&&(G="size="+s[0],F>1)){G+="&promo_sizes=";for(var C=1;F>C;C++){G+=s[C]+=","}G&&","===G.charAt(G.length-1)&&(G=G.slice(0,G.length-1))}G&&(D+=G+"&");var K=z.parseQueryStringParameters(I);K&&(D+=K);var M=k({},H.params);delete M.placementId,delete M.memberId,delete M.invCode,delete M.query,delete M.referrer,delete M.alt_referrer,delete M.member;var E=z.parseQueryStringParameters(M);return E&&(D+=E),""===N&&(N=z.getTopWindowUrl()),D=z.tryAppendQueryString(D,"referrer",N),D=z.tryAppendQueryString(D,"alt_referrer",J),D.lastIndexOf("&")===D.length-1&&(D=D.substring(0,D.length-1)),z.logMessage("jpt request built: "+D),H.startTime=(new Date).getTime(),D}var a=j.createNew("appnexus"),d=!1;return a.callBids=function(f){for(var u=f.bids,l=0;l<u.length;l++){var e=u[l],s=e.bidId;q.loadScript(c(e,s))}},pbjs.handleAnCB=function(D){var F;if(D&&D.callback_uid){var n,A=D.callback_uid,E="",u=g.getBidRequest(A);u&&(F=u.bidder,E=u.placementCode,u.status=w.STATUS.GOOD),z.logMessage("JSONP callback function called for ad ID: "+A);var C=[];if(D.result&&D.result.cpm&&0!==D.result.cpm){n=parseInt(D.result.cpm,10),n/=10000;var o=D.result.creative_id;C=v.createBid(1,u),C.creative_id=o,C.bidderCode=F,C.cpm=n,C.adUrl=D.result.ad,C.width=D.result.width,C.height=D.result.height,C.dealId=D.result.deal_id,x.addBidResponse(E,C)}else{z.logMessage("No prebid response from AppNexus for placement code "+E),C=v.createBid(2,u),C.bidderCode=F,x.addBidResponse(E,C)}if(!d){var B=z.createInvisibleIframe();B.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(B)}catch(s){z.logError(s)}d=!0}}else{z.logMessage("No prebid response for placement %%PLACEMENT%%")}},{callBids:a.callBids,setBidderCode:a.setBidderCode,createNew:m.createNew,buildJPTCall:c}},b.createNew=function(){return new b},p.exports=b}),(function(b,a){function c(h){function f(i){d=i}function j(){return d}function g(){}var d=h;return{callBids:g,setBidderCode:f,getBidderCode:j}}a.createNew=function(d){return new c(d)}}),(function(b,a,c){c(25),c(58),c(63),Number.isInteger=Number.isInteger||function(d){return"number"==typeof d&&isFinite(d)&&Math.floor(d)===d}}),(function(b,a,c){c(26),b.exports=c(29).Array.find}),(function(g,d,j){var f=j(27),c=j(45)(5),h="find",b=!0;h in []&&Array(1)[h]((function(){b=!1})),f(f.P+f.F*b,"Array",{find:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0)}}),j(57)(h)}),(function(h,m,f){var b=f(28),g=f(29),c=f(30),k=f(40),p=f(43),j="prototype",l=function(u,D,d){var w,o,s,a,r=u&l.F,i=u&l.G,z=u&l.S,C=u&l.P,q=u&l.B,x=i?b:z?b[D]||(b[D]={}):(b[D]||{})[j],A=i?g:g[D]||(g[D]={}),B=A[j]||(A[j]={});i&&(d=D);for(w in d){o=!r&&x&&void 0!==x[w],s=(o?x:d)[w],a=q&&o?p(s,b):C&&"function"==typeof s?p(Function.call,s):s,x&&k(x,w,s,u&l.U),A[w]!=s&&c(A,w,a),C&&B[w]!=s&&(B[w]=s)}};b.core=g,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,h.exports=l}),(function(b){var a=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)}),(function(b){var a=b.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)}),(function(d,b,f){var c=f(31),a=f(39);d.exports=f(35)?function(h,g,i){return c.f(h,g,a(1,i))}:function(h,g,i){return h[g]=i,h}}),(function(g,d,j){var f=j(32),c=j(34),h=j(38),b=Object.defineProperty;d.f=j(35)?Object.defineProperty:function(k,a,l){if(f(k),a=h(a,!0),f(l),c){try{return b(k,a,l)}catch(i){}}if("get" in l||"set" in l){throw TypeError("Accessors not supported!")}return"value" in l&&(k[a]=l.value),k}}),(function(c,a,d){var b=d(33);c.exports=function(f){if(!b(f)){throw TypeError(f+" is not an object!")}return f}}),(function(a){a.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}}),(function(b,a,c){b.exports=!c(35)&&!c(36)((function(){return 7!=Object.defineProperty(c(37)("div"),"a",{get:function(){return 7}}).a}))}),(function(b,a,c){b.exports=!c(36)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))}),(function(a){a.exports=function(c){try{return !!c()}catch(b){return !0}}}),(function(d,b,g){var c=g(33),a=g(28).document,f=c(a)&&c(a.createElement);d.exports=function(h){return f?a.createElement(h):{}}}),(function(c,a,d){var b=d(33);c.exports=function(h,g){if(!b(h)){return h}var j,f;if(g&&"function"==typeof(j=h.toString)&&!b(f=j.call(h))){return f}if("function"==typeof(j=h.valueOf)&&!b(f=j.call(h))){return f}if(!g&&"function"==typeof(j=h.toString)&&!b(f=j.call(h))){return f}throw TypeError("Can't convert object to primitive value")}}),(function(a){a.exports=function(c,b){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:b}}}),(function(h,m,f){var b=f(28),g=f(30),c=f(41),k=f(42)("src"),p="toString",j=Function[p],l=(""+j).split(p);f(29).inspectSource=function(a){return j.call(a)},(h.exports=function(o,a,r,i){var q="function"==typeof r;q&&(c(r,"name")||g(r,"name",a)),o[a]!==r&&(q&&(c(r,k)||g(r,k,o[a]?""+o[a]:l.join(String(a)))),o===b?o[a]=r:i?o[a]?o[a]=r:g(o,a,r):(delete o[a],g(o,a,r)))})(Function.prototype,p,(function(){return"function"==typeof this&&this[k]||j.call(this)}))}),(function(b){var a={}.hasOwnProperty;b.exports=function(c,d){return a.call(c,d)}}),(function(b){var a=0,c=Math.random();b.exports=function(d){return"Symbol(".concat(void 0===d?"":d,")_",(++a+c).toString(36))}}),(function(c,a,d){var b=d(44);c.exports=function(g,f,h){if(b(g),void 0===f){return g}switch(h){case 1:return function(e){return g.call(f,e)};case 2:return function(i,e){return g.call(f,i,e)};case 3:return function(k,j,e){return g.call(f,k,j,e)}}return function(){return g.apply(f,arguments)}}}),(function(a){a.exports=function(b){if("function"!=typeof b){throw TypeError(b+" is not a function!")}return b}}),(function(h,d,k){var g=k(43),c=k(46),j=k(48),b=k(50),f=k(52);h.exports=function(q,w){var i=1==q,r=2==q,v=3==q,s=4==q,m=6==q,o=5==q||m,a=w||f;return function(C,D,n){for(var e,u,B=j(C),l=c(B),p=g(D,n,3),z=b(l.length),A=0,x=i?a(C,z):r?a(C,0):void 0;z>A;A++){if((o||A in l)&&(e=l[A],u=p(e,A,B),q)){if(i){x[A]=u}else{if(u){switch(q){case 3:return !0;case 5:return e;case 6:return A;case 2:x.push(e)}}else{if(s){return !1}}}}}return m?-1:v||s?s:x}}}),(function(c,a,d){var b=d(47);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(f){return"String"==b(f)?f.split(""):Object(f)}}),(function(b){var a={}.toString;b.exports=function(c){return a.call(c).slice(8,-1)}}),(function(c,a,d){var b=d(49);c.exports=function(f){return Object(b(f))}}),(function(a){a.exports=function(b){if(void 0==b){throw TypeError("Can't call method on  "+b)}return b}}),(function(d,b,f){var c=f(51),a=Math.min;d.exports=function(g){return g>0?a(c(g),9007199254740991):0}}),(function(b){var a=Math.ceil,c=Math.floor;b.exports=function(d){return isNaN(d=+d)?0:(d>0?c:a)(d)}}),(function(c,a,d){var b=d(53);c.exports=function(g,f){return new (b(g))(f)}}),(function(d,b,g){var c=g(33),a=g(54),f=g(55)("species");d.exports=function(i){var h;return a(i)&&(h=i.constructor,"function"!=typeof h||h!==Array&&!a(h.prototype)||(h=void 0),c(h)&&(h=h[f],null===h&&(h=void 0))),void 0===h?Array:h}}),(function(c,a,d){var b=d(47);c.exports=Array.isArray||function(f){return"Array"==b(f)}}),(function(h,d,k){var g=k(56)("wks"),c=k(42),j=k(28).Symbol,b="function"==typeof j,f=h.exports=function(a){return g[a]||(g[a]=b&&j[a]||(b?j:c)("Symbol."+a))};f.store=g}),(function(d,b,g){var c=g(28),a="__core-js_shared__",f=c[a]||(c[a]={});d.exports=function(h){return f[h]||(f[h]={})}}),(function(d,b,f){var c=f(55)("unscopables"),a=Array.prototype;void 0==a[c]&&f(30)(a,c,{}),d.exports=function(g){a[c][g]=!0}}),(function(b,a,c){c(59),b.exports=c(29).Array.includes}),(function(d,b,f){var c=f(27),a=f(60)(!0);c(c.P,"Array",{includes:function(g){return a(this,g,arguments.length>1?arguments[1]:void 0)}}),f(57)("includes")}),(function(d,b,g){var c=g(61),a=g(50),f=g(62);d.exports=function(h){return function(j,o,e){var k,l=c(j),i=a(l.length),m=f(e,i);if(h&&o!=o){for(;i>m;){if(k=l[m++],k!=k){return !0}}}else{for(;i>m;m++){if((h||m in l)&&l[m]===o){return h||m||0}}}return !h&&-1}}}),(function(d,b,f){var c=f(46),a=f(49);d.exports=function(g){return c(a(g))}}),(function(d,b,g){var c=g(51),a=Math.max,f=Math.min;d.exports=function(i,h){return i=c(i),0>i?a(i+h,0):f(i,h)}}),(function(b,a,c){c(64),b.exports=c(29).Object.assign}),(function(c,a,d){var b=d(27);b(b.S+b.F,"Object",{assign:d(65)})}),(function(h,l,f){var b=f(66),g=f(70),c=f(71),k=f(48),m=f(46),j=Object.assign;h.exports=!j||f(36)((function(){var i={},a={},o=Symbol(),d="abcdefghijklmnopqrst";return i[o]=7,d.split("").forEach((function(n){a[n]=n})),7!=j({},i)[o]||Object.keys(j({},a)).join("")!=d}))?function(v){for(var z=k(v),i=arguments.length,w=1,y=g.f,x=c.f;i>w;){for(var q,s=m(arguments[w++]),a=y?b(s).concat(y(s)):b(s),r=a.length,o=0;r>o;){x.call(s,q=a[o++])&&(z[q]=s[q])}}return z}:j}),(function(d,b,f){var c=f(67),a=f(69);d.exports=Object.keys||function(g){return c(g,a)}}),(function(g,d,j){var f=j(41),c=j(61),h=j(60)(!1),b=j(68)("IE_PROTO");g.exports=function(l,i){var o,k=c(l),m=0,a=[];for(o in k){o!=b&&f(k,o)&&a.push(o)}for(;i.length>m;){f(k,o=i[m++])&&(~h(a,o)||a.push(o))}return a}}),(function(d,b,f){var c=f(56)("keys"),a=f(42);d.exports=function(g){return c[g]||(c[g]=a(g))}}),(function(a){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),(function(b,a){a.f=Object.getOwnPropertySymbols}),(function(b,a){a.f={}.propertyIsEnumerable}),(function(k,w,g){function b(a){return a&&a.__esModule?a:{"default":a}}function j(){addEventListener("message",f,!1)}function f(l){var c=l.message?"message":"data",o={};try{o=JSON.parse(l[c])}catch(d){return}if(o.adId){var a=pbjs._bidsReceived.find((function(i){return i.adId===o.adId}));"Prebid Request"===o.message&&(q(a,o.adServerDomain,l.source),v["default"].emit(h,a))}}function q(y,s,B){var u=y.adId,l=y.ad,A=y.adUrl,c=y.width,z=y.height;u&&(x(y),B.postMessage(JSON.stringify({message:"Prebid Response",ad:l,adUrl:A,adId:u,width:c,height:z}),s))}function x(l){var c=l.adUnitCode,o=l.width,d=l.height,a=document.getElementById(window.googletag.pubads().getSlots().find((function(i){return i.getAdUnitPath()===c||i.getSlotElementId()===c})).getSlotElementId()).querySelector("iframe");a.width=""+o,a.height=""+d}Object.defineProperty(w,"__esModule",{value:!0}),w.listenMessagesFromCreative=j;var m=g(8),v=b(m),p=g(3),h=p.EVENTS.BID_WON}),(function(k,w,g){function b(c){if(c&&c.__esModule){return c}var a={};if(null!=c){for(var d in c){Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}}return a["default"]=c,a}function j(){h.forEach((function(a){v.logMessage("Invoking cookie sync for bidder: "+a.bidder),"iframe"===a.type?v.insertCookieSyncIframe(a.url):v.insertPixel(a.url)}))}function f(c){for(var a=0;a<document.links.length;a++){var d=document.links[a];d.href=c+encodeURIComponent(d.href)}}function q(a){"true"!==document.cookie.replace(/(?:(?:^|.*;\s*)pbsCookiePersistFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&(document.body.appendChild(x(a)),document.cookie="pbsCookiePersistFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT")}function x(c){var a=document.createElement("div");return a.style.background="#ccc",a.style.color="#333",a.style.boxShadow="0 -1px 2px rgba(0, 0, 0, 0.2)",a.style.fontFamily="sans-serif",a.style.fontWeight="300",a.style.position="fixed",a.style.bottom="0px",a.style.width="100%",a.style.padding="1em",a.style.zindex="1000",a.innerHTML=c,a}var m=g(2),v=b(m),p=w,h=[];p.queueSync=function(d){var a=d.bidder,i=d.url,c=d.type;h.push({bidder:a,url:i,type:c})},p.syncCookies=function(a){a?setTimeout(j,a):j()},p.persist=function(c,a){v.isSafariBrowser()&&(f(c),q(a))}}),(function(d,b,g){var c=g(11),a=g(75),f=function(h){this.name=h.adserver,this.code=h.code,this.getWinningBidByCode=function(){return a.getWinningBids(this.code)[0]}};b.dfpAdserver=function(m,k){var o=new f(m);o.urlComponents=k;var j={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},h=["output","iu","sz","url","correlator","description_url","hl"],l=function(i){return encodeURIComponent(c.formatQS(i))};return o.appendQueryParams=function(){var i=o.getWinningBidByCode();i&&(this.urlComponents.search.description_url=encodeURIComponent(i.descriptionUrl),this.urlComponents.search.cust_params=l(i.adserverTargeting),this.urlComponents.search.correlator=Date.now())},o.verifyAdserverTag=function(){for(var n in j){if(!this.urlComponents.search.hasOwnProperty(n)||this.urlComponents.search[n]!==j[n]){return !1}}for(var i in h){if(!this.urlComponents.search.hasOwnProperty(h[i])){return !1}}return !0},o}}),(function(x,C,k){function b(c,a,d){return a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[a]=d,c}function q(){var c=h.getWinningBids(),a=j();return c=c.map((function(d){return b({},d.adUnitCode,Object.keys(d.adserverTargeting).filter((function(e){return"undefined"==typeof d.sendStandardTargeting||d.sendStandardTargeting||-1===a.indexOf(e)})).map((function(e){return b({},e.substring(0,20),[d.adserverTargeting[e]])})))}))}function j(){return z.getStandardBidderAdServerTargeting().map((function(a){return a.key})).concat(w.TARGETING_KEYS).filter(B.uniques)}function A(c){var a=j();return pbjs._bidsReceived.filter(B.adUnitsFilter.bind(this,c)).map((function(d){return d.alwaysUseBid?b({},d.adUnitCode,Object.keys(d.adserverTargeting).map((function(e){return a.indexOf(e)>-1?void 0:b({},e.substring(0,20),[d.adserverTargeting[e]])})).filter((function(f){return f}))):void 0})).filter((function(d){return d}))}function D(c){var a=w.TARGETING_KEYS;return pbjs._bidsReceived.filter(B.adUnitsFilter.bind(this,c)).map((function(d){return d.adserverTargeting?b({},d.adUnitCode,y(d,a.filter((function(e){return"undefined"!=typeof d.adserverTargeting[e]})))):void 0})).filter((function(d){return d}))}function y(c,a){return a.map((function(d){return b({},(d+"_"+c.bidderCode).substring(0,20),[c.adserverTargeting[d]])}))}var B=k(2),z=k(13),m=k(2),w=k(3),h=C,v=[];h.resetPresetTargeting=function(){B.isGptPubadsDefined()&&window.googletag.pubads().getSlots().forEach((function(a){v.forEach((function(c){pbjs.adUnits.find((function(d){(d.code===a.getAdUnitPath()||d.code===a.getSlotElementId())&&a.setTargeting(c,null)}))}))}))},h.getAllTargeting=function(c){var a=c&&c.length?[c]:pbjs._adUnitCodes,d=q(a).concat(A(a)).concat(pbjs._sendAllBids?D(a):[]);return d.map((function(f){Object.keys(f).map((function(e){f[e].map((function(g){-1===v.indexOf(Object.keys(g)[0])&&(v=Object.keys(g).concat(v))}))}))})),d},h.setTargeting=function(a){window.googletag.pubads().getSlots().forEach((function(c){a.filter((function(d){return Object.keys(d)[0]===c.getAdUnitPath()||Object.keys(d)[0]===c.getSlotElementId()})).forEach((function(d){return d[Object.keys(d)[0]].forEach((function(f){f[Object.keys(f)[0]].map((function(e){return m.logMessage("Attempting to set key value for slot: "+c.getSlotElementId()+" key: "+Object.keys(f)[0]+" value: "+e),e})).forEach((function(e){c.setTargeting(Object.keys(f)[0],e)}))}))}))}))},h.getWinningBids=function(c){var a=c?[c]:pbjs._adUnitCodes;return pbjs._bidsReceived.filter((function(d){return a.includes(d.adUnitCode)})).filter((function(d){return d.cpm>0})).map((function(d){return d.adUnitCode})).filter(B.uniques).map((function(d){return pbjs._bidsReceived.filter((function(e){return e.adUnitCode===d?e:null})).reduce(B.getHighestCpm,{adUnitCode:d,cpm:0,adserverTargeting:{},timeToRespond:0})}))},h.setTargetingForAst=function(){var a=pbjs.getAdserverTargeting();Object.keys(a).forEach((function(c){return Object.keys(a[c]).forEach((function(g){if(m.logMessage("Attempting to set targeting for targetId: "+c+" key: "+g+" value: "+a[c][g]),m.isStr(a[c][g])||m.isArray(a[c][g])){var e={},d="hb_adid",f=g.substring(0,d.length)===d?g.toUpperCase():g;e[f]=a[c][g],window.apntag.setKeywords(c,e)}}))}))},h.isApntagDefined=function(){return window.apntag&&m.isFn(window.apntag.setKeywords)?!0:void 0}})]);